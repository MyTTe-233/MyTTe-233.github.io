<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>2023/07/10：夏令营week1记录 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="MySQL课堂笔记0.标题暂定关于语句大小写MySQL 在 windows 下是不区分大小写的，将 script 文件导入 MySQL 后表名也会自动转化为小写，结果再 想要将数据库导出放到 linux 服务器中使用时就出错了。因为在 linux 下表名区分大小写而找不到表，查了很多都是说在 linux 下更改 MySQL 的设置使其也不区分大小写，但是有没有办法反过来让 windows 下大小写">
<meta property="og:type" content="article">
<meta property="og:title" content="2023&#x2F;07&#x2F;10：夏令营week1记录">
<meta property="og:url" content="http://example.com/2023/07/10/week1/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="MySQL课堂笔记0.标题暂定关于语句大小写MySQL 在 windows 下是不区分大小写的，将 script 文件导入 MySQL 后表名也会自动转化为小写，结果再 想要将数据库导出放到 linux 服务器中使用时就出错了。因为在 linux 下表名区分大小写而找不到表，查了很多都是说在 linux 下更改 MySQL 的设置使其也不区分大小写，但是有没有办法反过来让 windows 下大小写">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-07-10T14:50:14.000Z">
<meta property="article:modified_time" content="2023-07-10T15:33:27.201Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-week1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/07/10/week1/" class="article-date">
  <time datetime="2023-07-10T14:50:14.000Z" itemprop="datePublished">2023-07-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      2023/07/10：夏令营week1记录
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="MySQL课堂笔记"><a href="#MySQL课堂笔记" class="headerlink" title="MySQL课堂笔记"></a>MySQL课堂笔记</h1><h2 id="0-标题暂定"><a href="#0-标题暂定" class="headerlink" title="0.标题暂定"></a>0.标题暂定</h2><h3 id="关于语句大小写"><a href="#关于语句大小写" class="headerlink" title="关于语句大小写"></a>关于语句大小写</h3><p>MySQL 在 windows 下是不区分大小写的，将 script 文件导入 MySQL 后表名也会自动转化为小写，结果再 想要将数据库导出放到 linux 服<br>务器中使用时就出错了。因为在 linux 下表名区分大小写而找不到表，查了很多都是说在 linux 下更改 MySQL 的设置使其也不区分大小写，但是<br>有没有办法反过来让 windows 下大小写敏感呢。其实方法是一样的，相应的更改 windows 中 MySQL 的设置就行了。</p>
<p>具体操作：<br>在 MySQL 的配置文件 my.ini 中增加一行：<br>lower_case_table_names = 0<br>其中 0：区分大小写，1：不区分大小写<br>MySQL 在 Linux 下数据库名、表名、列名、别名大小写规则是这样的：<br> 1、数据库名与表名是严格区分大小写的；<br> 2、表的别名是严格区分大小写的；<br> 3、列名与列的别名在所有的情况下均是忽略大小写的；<br> 4、变量名也是严格区分大小写的； MySQL 在 Windows 下都不区分大小写</p>
<h3 id="使用source-地址显示“Failed-to-open-file-‘…’-error-2”的可能原因"><a href="#使用source-地址显示“Failed-to-open-file-‘…’-error-2”的可能原因" class="headerlink" title="使用source + 地址显示“Failed to open file ‘…’, error: 2”的可能原因"></a>使用source + 地址显示“Failed to open file ‘…’, error: 2”的可能原因</h3><p>1.未先创建并”use”数据库；<br>2.在windows中，路径不能包含空格，中文字符，需使用“/”连接路径，且最好选择绝对路径；不可使用“.”以及“&lt;”和“&gt;”<br>3.该语句结尾不需分号<br>原文<a target="_blank" rel="noopener" href="https://sebhastian.com/mysql-failed-to-open-file-error-2/">https://sebhastian.com/mysql-failed-to-open-file-error-2/</a><br><a target="_blank" rel="noopener" href="https://philip.yurchuk.com/software/mysql-failed-to-open-file-error-2-and-22-on-windows/">https://philip.yurchuk.com/software/mysql-failed-to-open-file-error-2-and-22-on-windows/</a></p>
<h2 id="1-查看MYSQL版本"><a href="#1-查看MYSQL版本" class="headerlink" title="1.查看MYSQL版本"></a>1.查看MYSQL版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mysql --version</span><br><span class="line">$ mysql -V</span><br></pre></td></tr></table></figure>

<h2 id="2-创建及使用"><a href="#2-创建及使用" class="headerlink" title="2.创建及使用"></a>2.创建及使用</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ create database/table [name]</span><br><span class="line">$ use [name]</span><br></pre></td></tr></table></figure>

<h2 id="3-查询使用的数据库"><a href="#3-查询使用的数据库" class="headerlink" title="3.查询使用的数据库"></a>3.查询使用的数据库</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ select database()</span><br></pre></td></tr></table></figure>

<h2 id="4-查询数据库版本"><a href="#4-查询数据库版本" class="headerlink" title="4.查询数据库版本"></a>4.查询数据库版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ select version()</span><br></pre></td></tr></table></figure>

<h2 id="5-终止输入语句"><a href="#5-终止输入语句" class="headerlink" title="5.终止输入语句"></a>5.终止输入语句</h2><p>键入 \c</p>
<h2 id="6-退出mysql"><a href="#6-退出mysql" class="headerlink" title="6.退出mysql"></a>6.退出mysql</h2><p>\q QUIT\EXIT<br>也可CTRL+C</p>
<h2 id="7-导入数据库"><a href="#7-导入数据库" class="headerlink" title="7.导入数据库"></a>7.导入数据库</h2><p>（创建并使用数据库后）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">source</span> [文件路径]（无需;）</span><br></pre></td></tr></table></figure>

<h2 id="8-查看"><a href="#8-查看" class="headerlink" title="8.查看"></a>8.查看</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ 表的结构 desc [table name]</span><br><span class="line">$ 数据库 show databases</span><br><span class="line">$ 查看表创建语句 show create table [table name]</span><br></pre></td></tr></table></figure>

<h2 id="9-简单查询"><a href="#9-简单查询" class="headerlink" title="9.简单查询"></a>9.简单查询</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ select [column name],[column name] from [table name]</span><br><span class="line">$ select * from [table name]</span><br></pre></td></tr></table></figure>

<h2 id="10-别名"><a href="#10-别名" class="headerlink" title="10.别名"></a>10.别名</h2><p>可以采用 as 关键字重命名表字段，其实 as 也可以省略，如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ select empno <span class="string">&quot;员工编号&quot;</span>, ename <span class="string">&quot;员工姓名&quot;</span>, sal*12 （as）<span class="string">&quot;年薪&quot;</span> from emp</span><br></pre></td></tr></table></figure>

<h2 id="11-条件查询"><a href="#11-条件查询" class="headerlink" title="11.条件查询"></a>11.条件查询</h2><p>条件查询需要用到 where 语句，where 必须放到 from 语句表的后面<br>支持如下运算符<br>运算符             说明<br>=                  等于<br>&lt;&gt;或!=             不等于<br>&lt;                  小于<br>&lt;=                 小于等于<br>&gt;                 大于<br>&gt;=                 大于等于<br>between …and …. 两个值之间,等同于 &gt;= and &lt;=<br>is null         为 null（is not null 不为空）<br>and             并且<br>or                 或者<br>in                 包含，相当于多个 or（not in 不在这个范围中）如:select * from emp where job in (‘manager’,’salesman’);<br>not not            可以取非，主要用在 is 或 in 中<br>like             like称为模糊查询，支持%或下划线匹配<br>                %匹配任意个字符<br>                下划线，一个下划线只匹配一个字符<br>                例如：select * from emp where ename like ‘_A%’;</p>
<h2 id="12-排序"><a href="#12-排序" class="headerlink" title="12.排序"></a>12.排序</h2><p>排序采用 order by 子句，order by 后面跟上排序字段，排序字段可以放多个，多个采用逗号间隔，order by 默认采用升<br>序，如果存在 where 子句那么 order by 必须放到 where 语句的后面</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ 升序：order by [column name] asc</span><br><span class="line">$ 降序：order by [column name] desc</span><br></pre></td></tr></table></figure>

<h2 id="13-数据处理函数-单行处理函数"><a href="#13-数据处理函数-单行处理函数" class="headerlink" title="13.数据处理函数/单行处理函数"></a>13.数据处理函数/单行处理函数</h2><p>Lower         转换小写<br>upper         转换大写 如：upper(‘manager’)<br>substr        取子串（substr(被截取的字符串//[table name],起始下标,截取的长度)）<br>length           取长度 如：length([table name])<br>trim          去空格<br>str_to_date   将字符串转换成日期<br>                   如：select * from emp where HIREDATE=’1981-02-20’；<br>                （第二种方法，将字符串转换成 date 类型）<br>                select * from emp where HIREDATE=str_to_date(‘1981-02-20’,’%Y-%m-%d’);<br>                select * from emp where HIREDATE=str_to_date(‘02-20-1981’,’%m-%d-%Y’);<br>date_format   格式化日期 如：select empno, ename, date_format(hiredate, ‘%Y-%m-%d %H:%i:%s’) as hiredate from emp<br>format        设置千分位 如：select empno, ename, Format(sal, 0) from emp;<br>round         四舍五入  round(123.123)<br>rand()        生成随机数<br>Ifnull        可以将 null 转换成一个具体值<br>                如：ifnull(comm,0)<br>                  当comm为null替换为0</p>
<h2 id="14-日期格式"><a href="#14-日期格式" class="headerlink" title="14.日期格式"></a>14.日期格式</h2><p>now() 获得当前时间</p>
<h3 id="格式的说明"><a href="#格式的说明" class="headerlink" title="格式的说明"></a>格式的说明</h3><p>%Y：代表 4 位的年份<br>%y：代表 2 位的年份<br>%m：代表月, 格式为(01……12)<br>%c：代表月, 格式为(1……12)<br>%H：代表小时,格式为(00……23)<br>%h：代表小时,格式为(01……12)<br>%i：代表分钟, 格式为(00……59)<br>%r：代表 时间,格式为 12 小时(hh:mm:ss [AP]M)<br>%T：代表 时间,格式为 24 小时(hh:mm:ss)<br>%S：代表 秒,格式为(00……59)<br>%s：代表 秒,格式为(00……59)</p>
<h2 id="15-case-…-when-…-then-…-else-…end"><a href="#15-case-…-when-…-then-…-else-…end" class="headerlink" title="15.case … when … then …..else …end"></a>15.case … when … then …..else …end</h2><p>例如：<br>如果 job 为 MANAGERG 薪水上涨 10%,如果 job 为 SALESMAN 工资上涨 50%</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ select empno, ename, job, sal, <span class="keyword">case</span> job when <span class="string">&#x27;MANAGER&#x27;</span> <span class="keyword">then</span> sal*1.1 when <span class="string">&#x27;SALESMAN&#x27;</span> <span class="keyword">then</span> sal*1.5 end as newsal from emp;</span><br></pre></td></tr></table></figure>

<h2 id="16-分组函数-聚合函数-多行处理函数"><a href="#16-分组函数-聚合函数-多行处理函数" class="headerlink" title="16.分组函数/聚合函数/多行处理函数"></a>16.分组函数/聚合函数/多行处理函数</h2><p>未进行分组时整张表默认为一组<br>count      取得记录数   例如:count([table name]或*) *为一整行一个数据，这里相当于统计行数<br>sum        求和     注意：当例如select sum(sal+comm) from emp中comm中出现null,需替换null<br>avg        取平均<br>max        取最大的数<br>min        取最小的数</p>
<h3 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h3><p>1.分组函数自动忽略空值(null)，不需要手动的加 where 条件排除空值。<br>select count(*) from emp where xxx;     符合条件的所有记录总数。(一行数据，只要不全为null则count++，当然不存在全为null的数据，有一位不是null则数据有效)<br>select count(comm) from emp;            comm 这个字段中不为空的元素总数。<br>2.分组函数不能直接使用在 where 关键字后面。<br>错误示范： mysql&gt; select ename,sal from emp where sal &gt; avg(sal);<br>原因见分组查询<br>3.所有分组函数可组合使用</p>
<h2 id="17-分组查询（重点）"><a href="#17-分组查询（重点）" class="headerlink" title="17.分组查询（重点）"></a>17.分组查询（重点）</h2><h3 id="什么是分组"><a href="#什么是分组" class="headerlink" title="什么是分组"></a>什么是分组</h3><p>   在实际的应用中，可能有这样的需求，需要先进行分组，然后对每一组的数据进行操作。</p>
<h3 id="关键字执行顺序"><a href="#关键字执行顺序" class="headerlink" title="关键字执行顺序"></a>关键字执行顺序</h3><pre><code>1. from
2. where
3. group by
4. select
5. order by
</code></pre>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><p>1.分组函数不能在where后：因为分组函数在使用的时候必须先分组之后才能使用，where执行的时候，还没有分组。所以where后面不能出现分组函数。<br>2.select sum(sal) from emp; 这个没有分组，为啥sum()函数可以用呢？   因为select在group by之后执行。<br>3.在一条select语句当中，如果有group by语句的话，select后面只能跟：参加分组的字段，以及分组函数。其它的一律不能跟。<br>4.可多个字段联合分组</p>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="1-group-by"><a href="#1-group-by" class="headerlink" title="1.group by"></a>1.group by</h4><p>   例：select job,deptno,sum(sal) from emp group by job,deptno;</p>
<h4 id="2-having"><a href="#2-having" class="headerlink" title="2.having"></a>2.having</h4><p>   对分组数据再进行过滤需要使用 having 子句<br>     优先考虑where过滤<br>   例：<br>   <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ select job, avg(sal) from emp group by job having avg(sal) &gt;2000;</span><br></pre></td></tr></table></figure><br>   顺序：根据条件查询数据 分组 采用 having 过滤，取得正确的数据</p>
<h2 id="18-distinct"><a href="#18-distinct" class="headerlink" title="18.distinct"></a>18.distinct</h2><p>把查询结果去除重复记录<br> distinct只能出现在所有字段的最前方:<br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ select ename,distinct job from emp为错误形式</span><br></pre></td></tr></table></figure><br>允许该形式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ count(distinct job) </span><br></pre></td></tr></table></figure>

<h2 id="19-连接查询"><a href="#19-连接查询" class="headerlink" title="19.连接查询"></a>19.连接查询</h2><p>也可以叫跨表查询，需要关联多个表进行查询</p>
<h3 id="连接分类"><a href="#连接分类" class="headerlink" title="连接分类"></a>连接分类</h3><p>可分为：<br>        内连接：  （无主次，平等）<br>            等值连接        例：select e.ename,d.dname from emp e join dept d on e.deptno = d.deptno;<br>            非等值连接    例：select e.ename, e.sal, s.grade from emp e join salgrade s on e.sal between s.losal and s.hisal; // 条件不是一个等量关系，称为非等值连接。<br>            自连接（技巧：视为多张表）例：select a.ename as ‘员工名’, b.ename as ‘领导名’ from emp a join emp b on a.mgr = b.empno; //员工的领导编号 = 领导的员工编号<br>        外连接：          （可在join前加outer,如right outer join ）<br>            左外连接（左连接）<br>            右外连接（右连接）right代表什么：表示将join关键字右边的这张表看成主表，主要是为了将<br>                                                                     这张表的数据全部查询出来，捎带着关联查询左边的表。<br>                                                                     在外连接当中，两张表连接，产生了主次关系。<br>        全连接</p>
<h3 id="SQL92与SQLl99"><a href="#SQL92与SQLl99" class="headerlink" title="SQL92与SQLl99"></a>SQL92与SQLl99</h3><h4 id="SQL92语法："><a href="#SQL92语法：" class="headerlink" title="SQL92语法："></a>SQL92语法：</h4><pre><code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ select </span><br><span class="line">$ 	e.ename,d.dname</span><br><span class="line">$ from</span><br><span class="line">$ 	emp e, dept d</span><br><span class="line">$ <span class="built_in">where</span></span><br><span class="line">$	e.deptno = d.deptno;</span><br></pre></td></tr></table></figure>
sql92的缺点：结构不清晰，表的连接条件，和后期进一步筛选的条件，都放到了where后面。
</code></pre>
<h4 id="SQL99语法："><a href="#SQL99语法：" class="headerlink" title="SQL99语法："></a>SQL99语法：</h4><pre><code>    <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ select </span><br><span class="line">$ 	...</span><br><span class="line">$ from</span><br><span class="line">$ 	a</span><br><span class="line">$ (inner) <span class="built_in">join</span>	//inner可以省略（带着inner可读性更好！！！一眼就能看出来是内连接）</span><br><span class="line">$	b</span><br><span class="line">$ on</span><br><span class="line">$	a和b的连接条件</span><br><span class="line">$ <span class="built_in">where</span></span><br><span class="line">	筛选条件</span><br></pre></td></tr></table></figure>
sql99优点：表连接的条件是独立的，连接之后，如果还需要进一步筛选，再往后继续添加where
</code></pre>
<h2 id="20-多张表的连接查询"><a href="#20-多张表的连接查询" class="headerlink" title="20.多张表的连接查询"></a>20.多张表的连接查询</h2><p>语法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ select </span><br><span class="line">$	...</span><br><span class="line">$ from</span><br><span class="line">$	a</span><br><span class="line">$ <span class="built_in">join</span></span><br><span class="line">$	b</span><br><span class="line">$ on</span><br><span class="line">$	a和b的连接条件</span><br><span class="line">$ <span class="built_in">join</span></span><br><span class="line">$	c</span><br><span class="line">$ on</span><br><span class="line">$	a和c的连接条件</span><br><span class="line">$ right <span class="built_in">join</span></span><br><span class="line">$	d</span><br><span class="line">$ on</span><br><span class="line">$	a和d的连接条件</span><br><span class="line">$   //b,c,d并列</span><br></pre></td></tr></table></figure>
<p>一条SQL中内连接和外连接可以混合。都可以出现</p>
<h2 id="21-子查询"><a href="#21-子查询" class="headerlink" title="21.子查询"></a>21.子查询</h2><p>子查询就是嵌套的 select 语句，可以理解为子查询是一张表</p>
<h3 id="where子查询"><a href="#where子查询" class="headerlink" title="where子查询"></a>where子查询</h3><p>格式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ select</span><br><span class="line">$		..(select).</span><br><span class="line">$	from</span><br><span class="line">$		..(select).</span><br><span class="line">$	<span class="built_in">where</span></span><br><span class="line">$		..(select).</span><br></pre></td></tr></table></figure>
<p>例：<br>第一步：查询最低工资是多少</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ select min(sal) from emp;</span><br></pre></td></tr></table></figure>
<p>结果实例：<br>            +———-+<br>            | min(sal) |<br>            +———-+<br>            |   800.00 |<br>            +———-+<br>第二步：找出&gt;800的</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ select ename,sal from emp <span class="built_in">where</span> sal &gt; 800;</span><br></pre></td></tr></table></figure>

<p>第三步：合并</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ select ename,sal from emp <span class="built_in">where</span> sal &gt; (select min(sal) from emp);</span><br></pre></td></tr></table></figure>

<h3 id="from子查询"><a href="#from子查询" class="headerlink" title="from子查询"></a>from子查询</h3><p>注意：from后面的子查询，可以将子查询的查询结果当做一张临时表。<br>例：找出每个岗位的平均工资的薪资等级。<br>第一步：找出每个岗位的平均工资（按照岗位分组求平均值）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$		select job,avg(sal) from emp group by job;</span><br></pre></td></tr></table></figure>
<pre><code>    +-----------+-------------+
    | job       | avgsal      |
    +-----------+-------------+   t表
    | ANALYST   | 3000.000000 |
    ...
    +-----------+-------------+
</code></pre>
<p>第二步：克服心理障碍，把以上的查询结果就当做一张真实存在的表t。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$	    select * from salgrade; </span><br></pre></td></tr></table></figure>
<pre><code>+-------+-------+-------+
| GRADE | LOSAL | HISAL |
+-------+-------+-------+   s表
|     1 |   700 |  1200 |
|     2 |  1201 |  1400 |
...
t表和s表进行表连接，条件：t表avg(sal) between s.losal and s.hisal;
</code></pre>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$		select </span><br><span class="line">$			t.*, s.grade</span><br><span class="line">$		from</span><br><span class="line">$			(select job,avg(sal) as avgsal from emp group by job) t</span><br><span class="line">$		<span class="built_in">join</span></span><br><span class="line">$			salgrade s</span><br><span class="line">$		on</span><br><span class="line">$			t.avgsal between s.losal and s.hisal;  // 技巧：avg(sal) as avgsal,否则t.avg(sal)报错</span><br></pre></td></tr></table></figure>

<h3 id="select子查询（非重点）"><a href="#select子查询（非重点）" class="headerlink" title="select子查询（非重点）"></a>select子查询（非重点）</h3><p>对于select后面的子查询来说，这个子查询只能一次返回1条结果(就是括号里面那个)<br>例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ select e.ename,e.deptno,(select d.dname from dept d <span class="built_in">where</span> e.deptno = d.deptno) as dname from emp e;</span><br></pre></td></tr></table></figure>

<h2 id="22-union"><a href="#22-union" class="headerlink" title="22.union"></a>22.union</h2><p>待补</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/07/10/week1/" data-id="cljx0pcg000007wud9d4e5q7r" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2023/04/28/warmup/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">2023/04/18：FCTF2023：warmup&amp;正式比赛</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/07/10/week1/">2023/07/10：夏令营week1记录</a>
          </li>
        
          <li>
            <a href="/2023/04/28/warmup/">2023/04/18：FCTF2023：warmup&amp;正式比赛</a>
          </li>
        
          <li>
            <a href="/2023/04/27/aaaa/">2023/04/15：burplabs从0开始</a>
          </li>
        
          <li>
            <a href="/2023/04/18/jihua/">2023/04/18：一点大致计划</a>
          </li>
        
          <li>
            <a href="/2023/04/09/4-9/">2023/04/09：docker遇到的问题与解决</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>